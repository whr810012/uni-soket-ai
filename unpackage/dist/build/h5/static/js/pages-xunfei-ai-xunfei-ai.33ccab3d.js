(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-xunfei-ai-xunfei-ai"],{"0106":function(t,e,n){"use strict";n.r(e);var i=n("e34a"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"0de9":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",{staticClass:"index"},[this.data?e("aiIndex",{attrs:{data:this.data}}):this._e()],1)},a=[]},1821:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".index[data-v-e1c71642]{width:%?750?%;height:100vh}",""]),t.exports=e},"25dd":function(t,e,n){"use strict";n.r(e);var i=n("c965"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"39b2":function(t,e,n){"use strict";n.r(e);var i=n("818b"),a=n("0106");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("3c38");var d=n("f0c5"),s=Object(d["a"])(a["default"],i["b"],i["c"],!1,null,"462e6af4",null,!1,i["a"],void 0);e["default"]=s.exports},"3c38":function(t,e,n){"use strict";var i=n("66ef"),a=n.n(i);a.a},"4fa2":function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.xunfeisendai=void 0,n("d3b7");e.xunfeisendai=function(t,e){return new Promise((function(n,i){uni.request({url:"https://spark-api-open.xf-yun.com/v1/chat/completions",data:t,header:{Authorization:"Bearer "+e},timeout:1e5,method:"post",success:function(t){n(t.data)},fail:function(t){i(t)},complete:function(){}})}))}},"66ef":function(t,e,n){var i=n("e90c");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("285a69dd",i,!0,{sourceMap:!1,shadowMode:!1})},"6f76":function(t,e,n){var i=n("1821");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("3e51a700",i,!0,{sourceMap:!1,shadowMode:!1})},"818b":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"index"},[n("v-uni-view",{staticClass:"top"},[t._v(t._s(t.data.name||"AI助手~"))]),n("v-uni-scroll-view",{staticClass:"content",attrs:{"scroll-y":!0,"scroll-into-view":t.scrollIntoView}},t._l(t.dialogueList,(function(e,i){return n("v-uni-view",{key:i,staticClass:"dialogue_item",attrs:{id:"dialogue_item-"+i}},["assistant"===e.role?n("v-uni-view",{staticClass:"user"},[n("v-uni-image",{attrs:{src:"https://so1.360tres.com/t018f408d11d2b5d951.jpg"}}),n("span",{staticClass:"user_content"},[t._v(t._s(e.content))])],1):n("v-uni-view",{staticClass:"ai"},[n("v-uni-view",{staticClass:"ai_content"},[t._v(t._s(e.content))]),n("v-uni-image",{attrs:{src:"https://tse2-mm.cn.bing.net/th/id/OIP-C.yqoO2L-6goRjRhrnCNNQRwHaHa?rs=1&pid=ImgDetMain"}})],1)],1)})),1),n("v-uni-view",{staticClass:"send_box"},[n("v-uni-input",{attrs:{type:"text",placeholder:"请输入内容"},model:{value:t.usercontent,callback:function(e){t.usercontent=e},expression:"usercontent"}}),n("v-uni-button",{attrs:{disabled:t.disabled},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.send.apply(void 0,arguments)}}},[t._v("发送")])],1)],1)},a=[]},9108:function(t,e,n){"use strict";var i=n("6f76"),a=n.n(i);a.a},c965:function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("39b2")),o={components:{aiIndex:a.default},data:function(){return{data:null}},onLoad:function(t){this.data=JSON.parse(decodeURIComponent(t.data)),console.log(this.data)}};e.default=o},e34a:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("14d9"),n("d81d");var i=n("4fa2"),a={name:"ai",props:["data"],data:function(){return{dialogueList:[],usercontent:"",scrollIntoView:"",disabled:!1}},methods:{scrollToBottom:function(){console.log("dialogue_item-".concat(this.dialogueList.length-1)),this.scrollIntoView="dialogue_item-".concat(this.dialogueList.length-1)},send:function(){var t=this;this.disabled=!0,this.dialogueList.push({role:"user",content:this.usercontent}),this.usercontent="";var e={model:this.data.model,messages:this.dialogueList},n=this.data.password;"xunfei"===this.data.class&&(0,i.xunfeisendai)(e,n).then((function(e){e.choices.map((function(e){t.dialogueList.push(e.message)})),t.disabled=!1}))}},watch:{dialogueList:function(){this.scrollToBottom()}}};e.default=a},e90c:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".index[data-v-462e6af4]{width:%?750?%;height:100%;background-color:#fff}.index .top[data-v-462e6af4]{display:flex;justify-content:center;align-items:center;width:100%;height:%?70?%;background-color:#aeaeac;font-family:Arial,Helvetica,sans-serif;font-size:%?30?%;color:#fff}.index .content[data-v-462e6af4]{height:80vh;background-color:#fff;padding-bottom:%?20?%}.index .content .dialogue_item[data-v-462e6af4]{width:100%;padding-top:%?20?%}.index .content .dialogue_item .user[data-v-462e6af4]{display:flex;justify-content:flex-start;margin-left:%?20?%}.index .content .dialogue_item .user .user_content[data-v-462e6af4]{padding:%?10?% %?20?% %?10?% %?20?%;margin-left:%?20?%;background:linear-gradient(90deg,#f0caca,#f6b0b0);padding:%?10?%;border-radius:%?10?%;max-width:%?550?%}.index .content .dialogue_item .ai[data-v-462e6af4]{margin-right:%?20?%;display:flex;justify-content:flex-end}.index .content .dialogue_item .ai .ai_content[data-v-462e6af4]{padding:%?10?% %?20?% %?10?% %?20?%;margin-right:%?20?%;background-color:#d4d0d0;padding:%?10?%;border-radius:%?10?%;max-width:%?550?%;text-align:right}.index .content .dialogue_item uni-image[data-v-462e6af4]{width:20px;height:20px;border:1px solid #6e6e6e;border-radius:50%}.index .send_box[data-v-462e6af4]{border-top:1px solid #a1a0a0;width:%?750?%;height:%?120?%;display:flex;align-items:center}.index .send_box uni-input[data-v-462e6af4]{height:%?80?%;border:1px solid #6e6e6e;border-radius:%?60?%;width:%?500?%;margin:0 %?40?%;padding-left:%?20?%}.index .send_box uni-button[data-v-462e6af4]{margin:0}",""]),t.exports=e},ff07:function(t,e,n){"use strict";n.r(e);var i=n("0de9"),a=n("25dd");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("9108");var d=n("f0c5"),s=Object(d["a"])(a["default"],i["b"],i["c"],!1,null,"e1c71642",null,!1,i["a"],void 0);e["default"]=s.exports}}]);