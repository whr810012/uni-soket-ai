<view class="index data-v-8e5cc878"><view class="top data-v-8e5cc878">{{data.name||"AI助手~"}}</view><scroll-view class="content data-v-8e5cc878" scroll-y="{{true}}" scroll-into-view="{{scrollIntoView}}"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="dialogue_item data-v-8e5cc878" id="{{'dialogue_item-'+index}}"><block wx:if="{{item.$orig.role==='assistant'}}"><view class="user data-v-8e5cc878"><image class="avatar data-v-8e5cc878" src="{{imageSrc}}"></image><view class="message-wrapper data-v-8e5cc878"><label data-event-opts="{{[['longpress',[['copyMessage',['$0'],[[['dialogueList','',index,'content']]]]]]]}}" class="user_content _span data-v-8e5cc878" bindlongpress="__e"><rich-text nodes="{{item.m0}}"></rich-text></label><view class="action-btns data-v-8e5cc878"><view data-event-opts="{{[['tap',[['copyMessage',['$0'],[[['dialogueList','',index,'content']]]]]]]}}" class="action-btn data-v-8e5cc878" bindtap="__e">复制</view><view data-event-opts="{{[['tap',[['regenerateResponse',[index]]]]]}}" class="action-btn data-v-8e5cc878" bindtap="__e">重新回复</view></view></view></view></block><block wx:else><view class="ai data-v-8e5cc878"><view class="message-wrapper data-v-8e5cc878"><view class="ai_content data-v-8e5cc878">{{item.$orig.content}}</view></view><button class="avatar-btn data-v-8e5cc878" open-type="chooseAvatar" data-event-opts="{{[['chooseavatar',[['onChooseAvatar',['$event']]]]]}}" bindchooseavatar="__e"><image class="avatar data-v-8e5cc878" src="{{userimg}}"></image></button></view></block></view></block></scroll-view><view class="send_box data-v-8e5cc878"><input type="text" placeholder="请输入内容" data-event-opts="{{[['input',[['__set_model',['$0','trim()','$event',[]],['usercontent']]]]]}}" value="{{$root.g1}}" bindinput="__e" class="data-v-8e5cc878"/><button disabled="{{$root.g2}}" data-event-opts="{{[['tap',[['send',['$event']]]]]}}" bindtap="__e" class="data-v-8e5cc878">发送</button></view></view>